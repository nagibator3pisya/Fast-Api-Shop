# Fast-Api-Shop

üìö –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π
- Python 3.10+

- FastAPI ‚Äî —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è API

- SQLAlchemy ‚Äî ORM

- Alembic ‚Äî –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î

- Pydantic ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

- PostgreSQL

- Uvicorn ‚Äî —Å–µ—Ä–≤–µ—Ä

- passlib[bcrypt] ‚Äî —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π

- python-jose ‚Äî JWT-—Ç–æ–∫–µ–Ω—ã

- pydantic-settings - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–¥

- dotenv - –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑ .env

- asyncpg - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –¥–≤–∏–∂–æ–∫ –¥–ª—è PostgreSQL


## C—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```bash
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ api/                # –†–æ—É—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ products.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ orders.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ cart.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ admin.py
‚îÇ   ‚îú‚îÄ‚îÄ models/             # SQLAlchemy –º–æ–¥–µ–ª–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ product.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ category.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ order.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ order_item.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ cart.py
‚îÇ   ‚îú‚îÄ‚îÄ schemas/            # Pydantic-—Å—Ö–µ–º—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îú‚îÄ‚îÄ services/           # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îú‚îÄ‚îÄ core/               # –ù–∞—Å—Ç—Ä–æ–π–∫–∏, –±–∞–∑–∞, JWT –∏ —Ç.–ø.
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ database.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ security.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ deps.py
‚îÇ   ‚îî‚îÄ‚îÄ main.py             # –í—Ö–æ–¥–Ω–∞—è —Ç–æ—á–∫–∞ FastAPI
‚îú‚îÄ‚îÄ alembic/                # –ú–∏–≥—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ requirements.txt
‚îî‚îÄ‚îÄ README.md

```
# üë• –†–æ–ª–∏
User (–ø–æ–∫—É–ø–∞—Ç–µ–ª—å) ‚Äî —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –ø—Ä–æ—Å–º–æ—Ç—Ä —Ç–æ–≤–∞—Ä–æ–≤, –∫–æ—Ä–∑–∏–Ω–∞, –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤

Admin ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞–º–∏, –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, –∑–∞–∫–∞–∑–∞–º–∏


# üóÇÔ∏è –ú–æ–¥–µ–ª–∏ –∏ —Å–≤—è–∑–∏
1. User
id, email, hashed_password, is_active, is_admin

2. Category
id, name, description

3. Product
id, name, description, price, quantity, is_active, category_id

4. CartItem (–∫–æ—Ä–∑–∏–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
- id

- user_id ‚Üí FK ‚Üí User

- product_id ‚Üí FK ‚Üí Product

- quantity

    –ö–æ—Ä–∑–∏–Ω–∞ ‚Äî –ø—Ä–æ—Å—Ç–æ —Ç–∞–±–ª–∏—Ü–∞ CartItem, 
    –≥–¥–µ —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏ –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ç–æ–≤–∞—Ä. 
    –û—á–∏—â–∞–µ—Ç—Å—è –ø—Ä–∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–∏ –∑–∞–∫–∞–∑–∞.

5.  Order
id, user_id, status, created_at, updated_at

6. OrderItem
id, order_id, product_id, quantity, price_at_order

# üì¶ –í–æ–∑–º–æ–∂–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã –∑–∞–∫–∞–∑–∞ (Order.status)
–°—Ç–∞—Ç—É—Å	        –û–ø–∏—Å–∞–Ω–∏–µ
new	            –ó–∞–∫–∞–∑ —Å–æ–∑–¥–∞–Ω, –Ω–æ –µ—â—ë –Ω–µ –æ–ø–ª–∞—á–µ–Ω
paid	        –ó–∞–∫–∞–∑ –æ–ø–ª–∞—á–µ–Ω
processing	    –ó–∞–∫–∞–∑ –≤ –æ–±—Ä–∞–±–æ—Ç–∫–µ (—Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –Ω–∞ —Å–∫–ª–∞–¥–µ)
shipped	        –û—Ç–ø—Ä–∞–≤–ª–µ–Ω –∫—É—Ä—å–µ—Ä–æ–º / —Å–ª—É–∂–±–æ–π –¥–æ—Å—Ç–∞–≤–∫–∏
delivered	    –î–æ—Å—Ç–∞–≤–ª–µ–Ω –ø–æ–∫—É–ø–∞—Ç–µ–ª—é
cancelled	    –û—Ç–º–µ–Ω—ë–Ω –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–º –∏–ª–∏ –º–∞–≥–∞–∑–∏–Ω–æ–º
returned	    –ü–æ–∫—É–ø–∞—Ç–µ–ª—å –≤–µ—Ä–Ω—É–ª —Ç–æ–≤–∞—Ä
failed	        –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–ø–ª–∞—Ç–µ –∏–ª–∏ –¥–æ—Å—Ç–∞–≤–∫–µ



# üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- JWT —Ç–æ–∫–µ–Ω—ã

- POST /auth/register, POST /auth/login

- Authorization: Bearer <token> –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ

# üì¶ –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

## üîì –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
| –ú–µ—Ç–æ–¥  | –ü—É—Ç—å             | –û–ø–∏—Å–∞–Ω–∏–µ    |
|--------|------------------|-------------|
| `POST` | `/auth/register` | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è |
| `POST` | `/auth/login`    | –í—Ö–æ–¥        |

## üõçÔ∏è –¢–æ–≤–∞—Ä—ã –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
| –ú–µ—Ç–æ–¥    | –ü—É—Ç—å                            | –û–ø–∏—Å–∞–Ω–∏–µ                     |
|----------|---------------------------------|------------------------------|
| `GET`    | `/products/`                    | –í—Å–µ —Ç–æ–≤–∞—Ä—ã                   |
| `GET`    | `/categories/`                  | –í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏                |
| `POST`   | `/admin/add_products/`          | –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä *(admin)*     |
| `PUT`    | `/admin/update_products/{id}`   | –û–±–Ω–æ–≤–∏—Ç—å —Ç–æ–≤–∞—Ä *(admin)*     |
| `DELETE` | `/admin/delete_products/{id}`   | –£–¥–∞–ª–∏—Ç—å  —Ç–æ–≤–∞—Ä *(admin)*     |
| `POST`   | `/admin/add_categories/`        | –î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é *(admin)* |
| `PUT`    | `/admin/update_categories/{id}` | –û–±–Ω–æ–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é *(admin)* |
| `DELETE` | `/admin/delete_categories/{id}` | –£–¥–∞–ª–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é *(admin)*  |

## üõí –ö–æ—Ä–∑–∏–Ω–∞

| –ú–µ—Ç–æ–¥    | –ü—É—Ç—å              | –û–ø–∏—Å–∞–Ω–∏–µ                  |
|----------|-------------------|---------------------------|
| `GET`    | `/cart/`          | –ú–æ—è –∫–æ—Ä–∑–∏–Ω–∞               |
| `POST`   | `/cart/`          | –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä –≤ –∫–æ—Ä–∑–∏–Ω—É  |
| `PUT`    | `/cart/{item_id}` | –ò–∑–º–µ–Ω–∏—Ç—å –∫–æ–ª-–≤–æ —Ç–æ–≤–∞—Ä–∞    |
| `DELETE` | `/cart/{item_id}` | –£–¥–∞–ª–∏—Ç—å —Ç–æ–≤–∞—Ä –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã  |
| `POST`   | `/cart/checkout`  | –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑ –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã |

## üì¶ –ó–∞–∫–∞–∑—ã

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å                 | –û–ø–∏—Å–∞–Ω–∏–µ             |
|-------|----------------------|----------------------|
| `GET` | `/orders/my`         | –ú–æ–∏ –∑–∞–∫–∞–∑—ã           |
| `GET` | `/admin/all_orders/` | –í—Å–µ –∑–∞–∫–∞–∑—ã *(admin)* |



```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î
alembic upgrade head

# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
uvicorn app.main:app --reload
```
